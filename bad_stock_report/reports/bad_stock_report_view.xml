<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_bad_stock">
        <t t-call="web.html_container">
           <t t-call="web.external_layout">
                <div class="page">
                   <center><h2> Bad Stock Report </h2></center>
                   <center>
                        <t t-foreach="data" t-as="line">
                            <table class="table">
                                <t t-set="all_vals" t-value="line['data']"/>
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Name</th>
                                        <th>Lot</th>
                                        <th>Quantity</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-if="line['color']=='black'">
                                        <tr class="bg-dark" t-foreach="all_vals" t-as="doc">
                                            <td style="text-align:center">
                                                <t t-esc="doc_index+1"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['name']"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['lot']"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['qty']"/>
                                            </td>  
                                        </tr>    
                                    </t>
                                    <t t-if="line['color']=='orange'">
                                        <tr class="table-warning" t-foreach="all_vals" t-as="doc">
                                            <td style="text-align:center">
                                                <t t-esc="doc_index+1"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['name']"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['lot']"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['qty']"/>
                                            </td>  
                                        </tr>    
                                    </t>
                                    <t t-if="line['color']=='yellow'">
                                        <tr class="bg-warning" t-foreach="all_vals" t-as="doc">
                                            <td style="text-align:center">
                                                <t t-esc="doc_index+1"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['name']"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['lot']"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['qty']"/>
                                            </td>  
                                        </tr>    
                                    </t>
                                    <t t-if="line['color']=='red'">
                                        <tr class="bg-danger" t-foreach="all_vals" t-as="doc">
                                            <td style="text-align:center">
                                                <t t-esc="doc_index+1"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['name']"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['lot']"/>
                                            </td>
                                            <td style="text-align:center">
                                                <t t-esc="doc['qty']"/>
                                            </td>  
                                        </tr>    
                                    </t>
                                </tbody>     
                            </table>    
                        </t>
                   </center>   
                </div>
           </t>
        </t>
    </template>
</odoo>            